{
	"rules":{
		".read": "auth.uid!=null",
		"exams":{
			"$eid":{
				".write": "data.child('manager').val() == auth.uid || !data.exists()",
				".validate": "newData.hasChild('manager')",
				"manager": {
				  ".validate": "newData.isString() && newData.val() == auth.uid"
				}
			},
			"graders": {
				"$graderId": {
				  ".write": "!newData.exists() && auth.uid == $graderId"
				}
			  }
		},
		"versions":{
			"$vid":{
				".write":true,
				".validate":"root.child('exams').child(newData.child('examId').val()).exists()"
			}
		},
		"questions":{
			"$qid":{
				".write":true,
				".validate":"root.child('versions').child(newData.child('versionId').val()).exists()"
			}
		}
	}
}